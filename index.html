<!--Aerin Franklin, Web Development, Odd days, periods 7-8, 11/24, Goblin Game-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Goblin Game</title>
    <script>
        function initialize() {
            pile1 = document.getElementById("pile1");
            pile2 = document.getElementById("pile2");
            pile3 = document.getElementById("pile3");
            button1 = document.getElementById("button1");
            button2 = document.getElementById("button2");
            button3 = document.getElementById("button3");
            button4 = document.getElementById("button4");
            button5 = document.getElementById("button5");
            button6 = document.getElementById("button6");
            button7 = document.getElementById("button7");
            button8 = document.getElementById("button8");
            button9 = document.getElementById("button9");
            goblinMessage = document.getElementById("goblinMessage");
        }
        function take1(n) {
            if (pile1.className=="stone3" || pile1.className=="stone2" || pile1.className=="stone1") {
                pile1.className = "stone" + parseInt(pile1.className.substr(5, 1)-n);
            }
            if (pile1.className=="stone0") {
                button1.className = "invisible";
                button2.className = "invisible";
                button3.className = "invisible";
            }
            if (pile1.className=="stone1") {
                button2.className = "invisible";
                button3.className = "invisible";
            }
            if (pile1.className=="stone2") {
                button3.className = "invisible";
            }
            if (empty()) {
                goblinMessage.innerHTML="haHa, You losT! i woN! loseR!"
            }
            else {
                goblinMove();
            }
        }
        function take2(n) {
            if (pile2.className=="stone3" || pile2.className=="stone2" || pile2.className=="stone1") {
                pile2.className = "stone" + parseInt(pile2.className.substr(5, 1)-n);
            }
            if (pile2.className=="stone0") {
                button4.className = "invisible";
                button5.className = "invisible";
                button6.className = "invisible";
            }
            if (pile2.className=="stone1") {
                button5.className = "invisible";
                button6.className = "invisible";
            }
            if (pile2.className=="stone2") {
                button6.className = "invisible";
            }
            if (empty()) {
                goblinMessage.innerHTML="haHa, You losT! i woN! loseR!"
            }
            else {
                goblinMove();
            }
        }
        function take3(n) {
            if (pile3.className=="stone3" || pile3.className=="stone2" || pile3.className=="stone1") {
                pile3.className = "stone" + parseInt(pile3.className.substr(5, 1)-n);
            }
            if (pile3.className=="stone0") {
                button7.className = "invisible";
                button8.className = "invisible";
                button9.className = "invisible";
            }
            if (pile3.className=="stone1") {
                button8.className = "invisible";
                button9.className = "invisible";
            }
            if (pile3.className=="stone2") {
                button9.className = "invisible";
            }
            if (empty()) {
                goblinMessage.innerHTML="haHa, You losT! i woN! loseR!"
            }
            else {
                goblinMove();
            }
        }
        function removeButtons() {
            if (pile1.className=="stone0") {
                button1.className = "invisible";
                button2.className = "invisible";
                button3.className = "invisible";
            }
            if (pile1.className=="stone1") {
                button2.className = "invisible";
                button3.className = "invisible";
            }
            if (pile1.className=="stone2") {
                button3.className = "invisible";
            }
            if (pile2.className=="stone0") {
                button4.className = "invisible";
                button5.className = "invisible";
                button6.className = "invisible";
            }
            if (pile2.className=="stone1") {
                button5.className = "invisible";
                button6.className = "invisible";
            }
            if (pile2.className=="stone2") {
                button6.className = "invisible";
            }
            if (pile3.className=="stone0") {
                button7.className = "invisible";
                button8.className = "invisible";
                button9.className = "invisible";
            }
            if (pile3.className=="stone1") {
                button8.className = "invisible";
                button9.className = "invisible";
            }
            if (pile3.className=="stone2") {
                button9.className = "invisible";
            }
        }
        function empty() {
            return pile1.className=="stone0" && pile2.className=="stone0" && pile3.className=="stone0"; 
        }
        function reset() {
            pile1.className = "stone3";
            pile2.className = "stone3";
            pile3.className = "stone3";
            button1.className = "";
            button2.className = "";
            button3.className = "";
            button4.className = "";
            button5.className = "";
            button6.className = "";
            button7.className = "";
            button8.className = "";
            button9.className = "";
            goblinMessage.innerHTML="youR moVe."
        }
        function tutorial() {
            goblinMessage.innerHTML="This is the gobliN gaMe. Click a button to remove that number of stones from the above pile. If you take the last stone from the last pile, you lose.";
        }
        function goblinMove() {
            goblinMessage.innerHTML="i can'T belieVe You diD somethinG thaT stupiD! whaT a dumB moVe. "
            if (pile1.className=="stone1"){
                pile1.className="stone0";
                goblinMessage.innerHTML+="i tooK tHe lasT stoNe froM tHe firsT piLe. "
            }
            else if (pile2.className=="stone1") {
                pile2.className="stone0";
                goblinMessage.innerHTML+="i tooK tHe lasT stoNe froM tHe seconD piLe. "
            }
            else if (pile3.className=="stone1") {
                pile3.className="stone0";
                goblinMessage.innerHTML+="i tooK tHe lasT stoNe froM tHe thirD piLe. "
            }
            else if (parseInt((Math.random() * 10) + 1) == 1) {
                console.log("point reached");
                if (pile1.className!="stone0" && pile1.className.substr(5,1) < pile2.className.substr(5,1) && pile1.className.substr(5,1) < pile3.className.substr(5,1)) {
                    pile1.className = "stone" + parseInt(pile1.className.substr(5, 1)-1);
                    goblinMessage.innerHTML+="i tooK a stoNe froM the firsT piLe. "
                }
                else if (pile2.className!="stone0" && pile2.className.substr(5,1) <= pile1.className.substr(5,1) && pile2.className.substr(5,1) <= pile3.className.substr(5,1)) {
                    pile2.className = "stone" + parseInt(pile2.className.substr(5, 1)-1);
                    goblinMessage.innerHTML+="i tooK a stoNe froM the seconD piLe. "
                }
                else if (pile3.className!="stone0") {
                    pile3.className = "stone" + parseInt(pile3.className.substr(5, 1)-1);
                    goblinMessage.innerHTML+="i tooK a stoNe froM the thirD piLe. "
                }
            }
            else {
                if (pile1.className.substr(5,1) > pile2.className.substr(5,1) && pile1.className.substr(5,1) > pile3.className.substr(5,1)) {
                    pile1.className = "stone" + parseInt(pile1.className.substr(5, 1)-1);
                    goblinMessage.innerHTML+="i tooK a stoNe froM the firsT piLe. "
                }
                else if (pile2.className.substr(5,1) >= pile1.className.substr(5,1) && pile2.className.substr(5,1) >= pile3.className.substr(5,1)) {
                    pile2.className = "stone" + parseInt(pile2.className.substr(5, 1)-1);
                    goblinMessage.innerHTML+="i tooK a stoNe froM the seconD piLe. "
                }
                else if (pile3.className!="stone0") {
                    pile3.className = "stone" + parseInt(pile3.className.substr(5, 1)-1);
                    goblinMessage.innerHTML+="i tooK a stoNe froM the thirD piLe. "
                }
            }
            removeButtons();
            if (empty()) {
                goblinMessage.innerHTML="oH No, i losT. plaY agaiN?"
            }
            else {
                goblinMessage.innerHTML+="clearlY, mY moVe is superioR. i'M a geniuS."
            }
        }
    </script>
</head>
<body onload="initialize()">
    <div class="piles">
        <div class="stone3" id="pile1">
            <span class="stone" id="first"></span>
            <div>
            <span class="stone" id="second"></span>
            <span class="stone" id="third"></span>
            </div>
            <div>
                <button onclick="take1(1)" id="button1">Take 1</button>
                <button onclick="take1(2)" id="button2">Take 2</button>
                <button onclick="take1(3)" id="button3">Take 3</button>
            </div>
        </div>
        <div class="stone3" id="pile2">
            <span class="stone" id="first"></span>
            <div>
            <span class="stone" id="second"></span>
            <span class="stone" id="third"></span>
            </div>
            <div>
                <button onclick="take2(1)" id="button4">Take 1</button>
                <button onclick="take2(2)" id="button5">Take 2</button>
                <button onclick="take2(3)" id="button6">Take 3</button>
            </div>
        </div>
        <div class="stone3" id="pile3">
            <span class="stone" id="first"></span>
            <div>
            <span class="stone" id="second"></span>
            <span class="stone" id="third"></span>
            </div>
            <div>
                <button onclick="take3(1)" id="button7">Take 1</button>
                <button onclick="take3(2)" id="button8">Take 2</button>
                <button onclick="take3(3)" id="button9">Take 3</button>
            </div>
        </div>
    </div>
    <div id="goblinMessage">haHa, a neW humaN to destroY!</div>
    <button id="tutorial" onclick="tutorial()">Tutorial</button>
    <button id="reset" onclick="reset()">Reset</button>

</body>
</html>
